<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>L√¨ X√¨ May M·∫Øn</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(to bottom, #ff0000, #990000);
    color: white;
    text-align: center;
    margin: 0;
    padding: 20px;
}

h1 { font-size: 36px; }

button {
    margin: 5px;
    padding: 8px 15px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background: gold;
    font-weight: bold;
}

#packetList {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 25px;
    margin-top: 30px;
}

.packet {
    cursor: pointer;
    transition: transform 0.3s;
}

.packet:hover {
    transform: scale(1.15);
}

.packet img {
    width: 110px;
}

.money {
    margin-top: 8px;
    font-weight: bold;
    font-size: 16px;
}

.opened img {
    opacity: 0.3;
}
</style>
</head>

<body>

<h1>üßß L√¨ X√¨ May M·∫Øn üßß</h1>

<button onclick="showSetting()">‚öôÔ∏è Setting</button>

<div id="gamePanel">
    <div id="packetList"></div>
</div>

<div id="settingPanel" style="display:none;">
    <h3>C·∫•u H√¨nh L√¨ X√¨</h3>
    <div id="configList"></div>
    <button onclick="addConfig()">‚ûï Th√™m</button>
    <button onclick="saveSetting()">üíæ L∆∞u</button>
    <button onclick="hideSetting()">‚¨Ö Quay L·∫°i</button>
</div>

<script>
let packets = [];
const envelopeImg = "lixi.png"; // üëà d√πng icon b·∫°n cung c·∫•p

/* ===== Setting ===== */

function showSetting() {
    document.getElementById("settingPanel").style.display = "block";
    document.getElementById("gamePanel").style.display = "none";
}

function hideSetting() {
    document.getElementById("settingPanel").style.display = "none";
    document.getElementById("gamePanel").style.display = "block";
}

function addConfig(value = "", quantity = "") {
    const div = document.createElement("div");
    div.style.margin = "10px 0";
    div.innerHTML = `
        M·ªánh gi√°: <input type="number" class="value" value="${value}">
        S·ªë l∆∞·ª£ng: <input type="number" class="quantity" value="${quantity}">
        <button onclick="this.parentElement.remove()">‚ùå</button>
    `;
    document.getElementById("configList").appendChild(div);
}

function saveSetting() {
    packets = [];
    const values = document.querySelectorAll(".value");
    const quantities = document.querySelectorAll(".quantity");

    for (let i = 0; i < values.length; i++) {
        let value = parseInt(values[i].value);
        let quantity = parseInt(quantities[i].value);

        if (!isNaN(value) && !isNaN(quantity)) {
            for (let j = 0; j < quantity; j++) {
                packets.push(value);
            }
        }
    }

    packets.sort(() => Math.random() - 0.5);
    renderPackets();
    hideSetting();
}

/* ===== Game ===== */

function renderPackets() {
    const container = document.getElementById("packetList");
    container.innerHTML = "";

    packets.forEach((money, index) => {
        const div = document.createElement("div");
        div.className = "packet";
        div.innerHTML = `
            <img src="${envelopeImg}">
            <div class="money"></div>
        `;

        div.onclick = function() {
            openPacket(index);
        };

        container.appendChild(div);
    });
}

function openPacket(index) {
    const container = document.getElementById("packetList");
    const packetDiv = container.children[index];

    if (packetDiv.classList.contains("opened")) return;

    packetDiv.classList.add("opened");
    packetDiv.querySelector(".money").innerHTML =
        packets[index].toLocaleString() + " VNƒê üéâ";
}

/* Default */
addConfig(100000, 20);
addConfig(200000, 10);
addConfig(300000, 3);
addConfig(500000, 2);
saveSetting();
</script>

</body>
</html>
