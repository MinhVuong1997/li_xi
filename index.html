<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Game LÃ¬ XÃ¬ Event</title>

<style>
* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-family: Arial, sans-serif;
    text-align: center;
    background: radial-gradient(circle at center, #ff3c3c, #8b0000);
    color: white;
    min-height: 100vh;
}

/* ===== HEADER ===== */
h1 {
    font-size: clamp(22px, 4vw, 42px);
    margin: 20px 10px;
    text-shadow: 0 0 20px gold;
}

/* ===== BUTTON ===== */
button {
    padding: 10px 18px;
    border: none;
    border-radius: 8px;
    background: gold;
    font-weight: bold;
    cursor: pointer;
    font-size: clamp(14px, 2vw, 18px);
}

/* ===== GRID RESPONSIVE ===== */
#packetList {
    display: grid;
    gap: 20px;
    padding: 20px;
    justify-items: center;
}

/* Mobile */
@media (max-width: 600px) {
    #packetList {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Tablet */
@media (min-width: 601px) and (max-width: 1024px) {
    #packetList {
        grid-template-columns: repeat(5, 1fr);
    }
}

/* PC */
@media (min-width: 1025px) {
    #packetList {
        grid-template-columns: repeat(8, 1fr);
    }
}

/* ===== PACKET ===== */
.packet {
    font-size: clamp(40px, 6vw, 80px);
    cursor: pointer;
    transition: transform 0.2s;
}

.packet:hover {
    transform: scale(1.2);
}

.shake {
    animation: shake 0.5s;
}

@keyframes shake {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(10deg); }
    50% { transform: rotate(-10deg); }
    75% { transform: rotate(5deg); }
    100% { transform: rotate(0deg); }
}

.opened {
    opacity: 0.5;
}

/* ===== POPUP ===== */
.popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    background: gold;
    color: red;
    padding: 30px 40px;
    border-radius: 20px;
    font-size: clamp(18px, 3vw, 32px);
    font-weight: bold;
    box-shadow: 0 0 40px white;
    transition: 0.4s;
    z-index: 1000;
    max-width: 90%;
}

.popup.show {
    transform: translate(-50%, -50%) scale(1);
}

/* ===== CONFETTI ===== */
.confetti {
    position: fixed;
    width: 8px;
    height: 8px;
    top: -10px;
    animation: fall 3s linear forwards;
}

@keyframes fall {
    to {
        transform: translateY(110vh) rotate(720deg);
    }
}
</style>
</head>

<body>

<h1>ðŸŽ‰ MINI GAME LÃŒ XÃŒ MAY Máº®N ðŸŽ‰</h1>
<button onclick="resetGame()">ðŸ”„ ChÆ¡i Láº¡i</button>

<div id="packetList"></div>
<div id="popup" class="popup"></div>

<script>
let packets = [];

function initPackets() {
    packets = [];
    for (let i = 0; i < 20; i++) packets.push(100000);
    for (let i = 0; i < 10; i++) packets.push(200000);
    for (let i = 0; i < 3; i++) packets.push(300000);
    for (let i = 0; i < 2; i++) packets.push(500000);
    packets.sort(() => Math.random() - 0.5);
}

function renderPackets() {
    const container = document.getElementById("packetList");
    container.innerHTML = "";

    packets.forEach((money, index) => {
        const div = document.createElement("div");
        div.className = "packet";
        div.innerHTML = "ðŸ§§";

        div.onclick = function() {
            openPacket(index, div);
        };

        container.appendChild(div);
    });
}

function openPacket(index, element) {
    if (element.classList.contains("opened")) return;

    element.classList.add("shake");

    setTimeout(() => {
        element.classList.remove("shake");
        element.classList.add("opened");
        element.innerHTML = "ðŸ’°";

        showPopup(packets[index]);

        if (packets[index] >= 300000) {
            launchConfetti();
        }

    }, 500);
}

function showPopup(amount) {
    const popup = document.getElementById("popup");
    popup.innerHTML = "ðŸŽ‰ Báº¡n trÃºng " + amount.toLocaleString() + " VNÄ ðŸŽ‰";
    popup.classList.add("show");

    setTimeout(() => {
        popup.classList.remove("show");
    }, 2500);
}

function launchConfetti() {
    for (let i = 0; i < 60; i++) {
        let conf = document.createElement("div");
        conf.className = "confetti";
        conf.style.left = Math.random() * 100 + "vw";
        conf.style.background = ["yellow","white","orange","gold"][Math.floor(Math.random()*4)];
        conf.style.animationDuration = (2 + Math.random() * 2) + "s";
        document.body.appendChild(conf);
        setTimeout(() => conf.remove(), 4000);
    }
}

function resetGame() {
    initPackets();
    renderPackets();
}

resetGame();
</script>

</body>
</html>
